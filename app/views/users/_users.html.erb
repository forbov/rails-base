<% users = collection %>
<% unless users.empty? %>
  <% users = Kaminari.paginate_array(users).page(params[:page]) %>
  <table class="table table-striped table-hover table-sm">
    <thead>
      <tr>
        <th>Name</th>
        <th class="d-none d-md-table-cell">Email</th>
        <th class="d-none d-lg-table-cell">Mobile</th>
        <th>Roles</th>
      </tr>
    </thead>
    <tbody>
      <% users.each do |user| %>
        <tr>
          <td>
            <% if can? :read, user %>
              <%= link_to user.full_name, user %>
            <% else %>
              <div><%= user.full_name %></div>
            <% end %>
          </td>
          <td class="d-none d-md-table-cell"><%= user.email %></td>
          <td class="d-none d-lg-table-cell"><%= user.mobile_phone %></td>
          <td><%= user.role_desc %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <% if users.total_pages > 1 %>
    <div class="container small">
      <div class="row text-center">
        <%= paginate users %>
        <%= page_entries_info users %>
      </div>
    </div>
  <% end %>
<% end %>