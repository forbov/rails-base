<% users = collection %>
<% unless users.empty? %>
  <% users = Kaminari.paginate_array(users).page(params[:page]) %>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th class="d-md">Email</th>
        <th class="d-lg">Mobile</th>
        <% unless source == 'facilitators' %>
          <th>Roles</th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% users.each do |user| %>
        <tr>
          <td>
            <% if can? :read, user %>
              <%= link_to user do %>
                <%= user.full_name %>
              <% end %>
            <% else %>
              <div><%= user.full_name %></div>
            <% end %>
          </td>
          <td class="d-md"><%= user.email %></td>
          <td class="d-lg"><%= user.mobile_phone %></td>
          <% unless source == 'facilitators' %>
            <td><%= user.role_desc %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
  <% if users.total_pages > 1 %>
    <div class="container small">
      <div class="row text-center">
        <%= paginate users %>
        <%= page_entries_info users %>
      </div>
    </div>
  <% end %>
<% end %>